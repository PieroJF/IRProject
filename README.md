# Contributor: Inika Kumar
* **Role:** Path Planning, Hazard Detection & Evaluation
* **Files:** `controllers/moose_path_following/moose_path_following.c`

## 1. Hardware Integration
To enable slope detection, I integrated the robot's Inertial Measurement Unit (IMU). The initial controller crashed because it could not locate the device by its default name.

* **Device Discovery**: Instead of hardcoding the device name (which caused runtime errors), I implemented a failsafe initialization routine. The controller now iterates through the robot's device list to identify the IMU dynamically by its internal Node Type (`WB_NODE_INERTIAL_UNIT`). This ensures the code is portable and robust even if the robot's specific sensor names change.

## 2. Hazard Detection Algorithm
I implemented the safety layer that runs at high frequency (32ms) to prevent the robot from terrain hazards.

* **Inertial Safety (`is_hazardous_state`):** Monitors Roll and Pitch angles in real-time. If tilt exceeds **0.35 rad (~20°)**, the system triggers an emergency stop to prevent capsizing. Warning logs are throttled to 1Hz to prevent console saturation.
* **LiDAR Obstacle Detection (`detect_hazards_ahead`):** Analyses LiDAR scan data by looking forward to identify immediate threats such as rocks or steep gradients that may not yet be registered in the global map.

## 3. Slope-Aware A* Path Planning
I replaced the initial reactive controller with a deterministic global path planner that navigates through the  3D terrain mapped by Piero.

* **A\* Algorithm (`astar_plan_path`):** Implemented a grid-based A* planner that calculates optimal routes on a 200x200 grid.
* **Cost Integration (`get_map_cost`):** The planner consumes the **Traversability Map** generated by the mapping module. It applies a weighted cost function that penalises high slopes (>20°) and "Unknown" regions, prioritising safe, flat terrain.
* **Optimistic Planning:** Tuned heuristic weights to treat unknown space as traversable with a low cost, enabling the robot to explore and path-find effectively in initially unmapped environments without getting stuck.

## 4. Navigation Controller & Evaluation
The system integrates the A* planner with a path-following controller.

* **Path Following (`follow_path`):** Steers the robot along the waypoints generated by A*, dynamically updating steering angles based on EKF pose estimation.
* **Performance Metrics:** The system tracks and outputs real-time performance data, including:
    * Total Path Replanning Events
    * Hazards Avoided Count
    * Navigation Success Rate
    * Total Distance Travelled